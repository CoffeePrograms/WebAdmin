syntax = "proto3";

option csharp_namespace = "WebAdmin.Grpc";

import "google/protobuf/timestamp.proto";

package logs;

service LogService {
  rpc InsertLog (LogRequest) returns (LogResponse);
  rpc GetLogs (GetLogsRequest) returns (GetLogsResponse);
}

message LogRequest {
  google.protobuf.Timestamp timestamp = 1;
  string level = 2;
  string message_template = 3;
  string method = 4;
  string path = 5;
  string request_body = 6;
  int32 status_code = 7;
  string response_body = 8;
  string controller = 9;
  string application = 10;
  string source_context = 11;
  string request_id = 12;
  string request_path = 13;
  string connection_id = 14;
  string user = 15;
  string exception = 16;
}

message LogResponse {
  string request_id = 1;
}

message GetLogsRequest {
  google.protobuf.Timestamp timestamp = 1;
  string level = 2;
  string message_template = 3;
  string method = 4;
  string path = 5;
  string request_body = 6;
  int32 status_code = 7;
  string response_body = 8;
  string controller = 9;
  string application = 10;
  string source_context = 11;
  string request_id = 12;
  string request_path = 13;
  string connection_id = 14;
  string user = 15;
  string exception = 16;
}

message GetLogsResponse {
  repeated LogResponse logs = 1;
}